<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gerenciar Usuários - Almoxarifado</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<body>
  <!-- HEADER -->
  <header class="header">
    <img src="{{ url_for('static', filename='img/LOGO_CECAPE.png') }}" alt="Logo CECAPE">
    <h1>Sistema de Pedidos - Almoxarifado</h1>
  </header>

  <!-- LAYOUT PRINCIPAL -->
  <main class="main-layout">
    <!-- SIDEBAR -->
    <nav class="sidebar">
      <a href="{{ url_for('landing') }}"><i class="fa-solid fa-house"></i> Início</a>
      <a href="{{ url_for('solicitacoes') }}"><i class="fa-solid fa-file-pen"></i> Solicitações</a>
      <a href="{{ url_for('produtos') }}"><i class="fa-solid fa-box-open"></i> Produtos</a>
      <a href="{{ url_for('cadastro') }}"><i class="fa-solid fa-user-plus"></i> Cadastrar Usuário</a>
      <a href="{{ url_for('usuarios') }}" class="active"><i class="fa-solid fa-users"></i> Usuários</a>
      <a href="{{ url_for('logout') }}"><i class="fa-solid fa-right-from-bracket"></i> Sair</a>
    </nav>

    <!-- CONTEÚDO PRINCIPAL -->
    <div class="container1">
      <h2><i class="fa-solid fa-users"></i> Usuários Cadastrados</h2>

      <table class="tabela-pedidos">
        <thead>
          <tr>
            <th>ID</th>
            <th>Nome</th>
            <th>Usuário</th>
            <th>Tipo</th>
            <th>Ações</th>
          </tr>
        </thead>
        <tbody>
          {% for u in usuarios %}
          <tr>
            <td>{{ u[0] }}</td>
            <td>{{ u[1] }}</td>
            <td>{{ u[2] }}</td>
            <td>{{ u[4] if u|length > 4 else u[3] }}</td>
            <td>
              <form action="{{ url_for('deletar_usuario', usuario_id=u[0]) }}" method="POST" style="display:inline;">
                <button type="submit" title="Excluir" style="background:#c0392b; color:white; padding:6px 10px; border:none; border-radius:4px; cursor:pointer;">
                  <i class="fa-solid fa-trash"></i>
                </button>
              </form>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </main>

  <!-- FOOTER -->
  <footer>
    © 2025 Almoxarifado CECAPE - Todos os direitos reservados.
  </footer>
</body>
</html>
